{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}, "text": {"color": "#404040", "fontWeight": "bold"}}, "layer": [{"mark": {"type": "bar", "size": 45}, "encoding": {"color": {"condition": [{"test": "datum.label === 'Baseline_1990' || datum.label === 'Final_2019'", "value": "#f7e0b6"}, {"test": "datum.sum < datum.previous_sum", "value": "#f78a64"}], "value": "#93c4aa"}, "y": {"type": "quantitative", "field": "previous_sum", "title": "Variation of forest area between 1990 and 2019 10^3 km2"}, "y2": {"field": "sum"}}}, {"mark": {"type": "rule", "color": "#404040", "opacity": 1, "strokeWidth": 2, "x2Offset": 22.5, "xOffset": -22.5}, "encoding": {"x2": {"field": "lead"}, "y": {"type": "quantitative", "field": "sum"}}}, {"mark": {"type": "text", "baseline": "bottom", "dy": -4}, "encoding": {"text": {"type": "nominal", "field": "label3"}, "y": {"type": "quantitative", "field": "sum_inc"}}}, {"mark": {"type": "text", "baseline": "top", "dy": 4}, "encoding": {"text": {"type": "nominal", "field": "label2"}, "y": {"type": "quantitative", "field": "sum_dec"}}}, {"mark": {"type": "text", "baseline": "middle", "fontWeight": "bold"}, "encoding": {"color": {"condition": [{"test": "datum.label === 'Baseline_1990' || datum.label === 'Final_2019'", "value": "#725a30"}], "value": "white"}, "text": {"type": "nominal", "field": "text_amount"}, "y": {"type": "quantitative", "field": "center"}}}], "data": {"name": "data-a563705ae66857ebc2fc3b8752e719fc"}, "encoding": {"x": {"type": "ordinal", "axis": {"labelAngle": -90, "title": "Country"}, "field": "label", "sort": null}}, "height": 450, "title": "Contribution of the 15 most important contributors to global Forest area variation over the past 30 years", "transform": [{"window": [{"op": "sum", "field": "amount", "as": "sum"}]}, {"window": [{"op": "lead", "field": "label", "as": "lead"}]}, {"calculate": "datum.lead === null ? datum.label : datum.lead", "as": "lead"}, {"calculate": "datum.label === 'Final_2019' ? 0 : datum.sum - datum.amount", "as": "previous_sum"}, {"calculate": "datum.label === 'Final_2019' ? datum.sum : datum.amount", "as": "amount"}, {"calculate": "(datum.label !== 'Baseline_1990' && datum.label !== 'Final_2019' && datum.amount > 0 ? '+' : '') + datum.amount", "as": "text_amount"}, {"calculate": "(datum.sum + datum.previous_sum) / 2", "as": "center"}, {"calculate": "datum.sum < datum.previous_sum ? datum.sum : ''", "as": "sum_dec"}, {"calculate": "datum.sum < datum.previous_sum ? datum.label : ''", "as": "label2"}, {"calculate": "datum.sum > datum.previous_sum ? datum.sum : ''", "as": "sum_inc"}, {"calculate": "datum.sum > datum.previous_sum ? datum.label : ''", "as": "label3"}], "width": 900, "$schema": "https://vega.github.io/schema/vega-lite/v5.json", "datasets": {"data-a563705ae66857ebc2fc3b8752e719fc": [{"label": "Baseline_1990", "amount": 0}, {"label": "Brasil", "amount": -908}, {"label": "China", "amount": 609}, {"label": "Indonesia", "amount": -258}, {"label": "Congo D. R.", "amount": -234}, {"label": "Angola", "amount": -121}, {"label": "Tanzania", "amount": -112}, {"label": "Myanmar", "amount": -104}, {"label": "Paraguay", "amount": -92}, {"label": "India", "amount": 80}, {"label": "United States", "amount": 74}, {"label": "Bolivia", "amount": -67}, {"label": "Argentina", "amount": -65}, {"label": "Mozambique", "amount": -64}, {"label": "Russia", "amount": 62}, {"label": "Venezuela", "amount": -57}, {"label": "Other", "amount": -384}, {"label": "Final_2019", "amount": 0}]}}